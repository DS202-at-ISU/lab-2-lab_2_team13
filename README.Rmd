---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit the README.Rmd file -->


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Lab report #1

Follow the instructions posted at https://ds202-at-isu.github.io/labs.html for the lab assignment. The work is meant to be finished during the lab time, but you have time until Monday evening to polish things.

Include your answers in this document (Rmd file). Make sure that it knits properly (into the md file). Upload both the Rmd and the md file to your repository.  

All submissions to the github repo will be automatically uploaded for grading once the due date is passed.
Submit a link to your repository on Canvas (only one submission per team) to signal to the instructors that you are done with your submission.

Step 1: inspect the first few lines of the data set:

what variables are there? of what type are the variables? what does each variable mean? what do we expect their data range to be?

```{r}
library(classdata)
head(ames)
str(ames)
summary(ames)

```
Variables: Parcel ID, Address, Style, Occupancy, Sale Date, Sale Price, Multi Sale, YearBuilt, 
Acres, TotalLivingArea (sf), Bedrooms, FinishedBsmtArea (sf), LotArea (sf), AC, FirePlace, Neighborhood

The types of variables include many categorical and numerical, with value types of Date, chr, and num. Each variable represents either a categorical or numerical value; Style has values like 1 Story Frame, 2 Story Frame, and other variables like Sale Price is a range of numbers. Many values have varying ranges depending on their data type, as Sale Date seems to have a range of dates between 2017 to 2022 while Acres has values from 0 to ~12 acres.

Step 2: is there a variable of special interest or focus?

The variable of highest interest/focus is likely going to be Sale Price as it is a defining aspect of a home and its value, and likely many of the other variables in the data set will affect this value.

Step 3: start the exploration with the main variable:

which variable is the main variable? what is the range of this variable? draw a histogram for a numeric variable or a bar chart, if the variable is categorical. what is the general pattern? is there anything odd?
follow-up on oddities: see 4

The main variable is Sale Price. The range and histogram are shown below:

```{r}
library(classdata)
library(ggplot2)
range(ames$`Sale Price`)

ggplot(ames, aes(x = `Sale Price`)) + 
  geom_histogram(binwidth=100000) +
  labs(title = "Histogram of Sale Prices",
       x = "Sale Price",
       y = "Count")


```

The general pattern is mainly skewed towards the right due to most of the values falling in the range of around 0 to ~2,000,000 for Sale Price with the actual median price being around ~170,000. There are a few outliers that are on the outer end of the graph that have very high values of 20,000,000 and 14,000,000 Sale Price.



Step 4: pick a variable that might be related to the main variable.

what is the range of that variable? plot. describe the pattern.
what is the relationship to the main variable? plot a scatterplot, boxplot or facetted barcharts (dependening on the types of variables involved). Describe overall pattern, does this variable describe any oddities discovered in 3? Identify/follow-up on any oddities.

David's Work:
I chose the variable YearBuilt. Below is the range and histogram of this variable:
```{r}
library(classdata)
library(ggplot2)
range(ames$YearBuilt, na.rm = TRUE)

ggplot(ames, aes(x = YearBuilt)) + 
  geom_histogram(binwidth=10) +
  labs(title = "Histogram of Year Built",
       x = "Year Built (by decade)",
       y = "Count")


```

The data for YearBuilt is left skewed instead, and has most of its year values ranging from ~1900 to ~2022. No major outliers, all the years of the homes built are in this range.

I will show the relationship between the variables with a scatterplot. One is with outliers and one is without outliers:

```{r}
library(classdata)
library(ggplot2)

#with outliers
ggplot(ames, aes(x = YearBuilt, y = `Sale Price`)) + scale_x_continuous(limits = c(1900, NA)) + geom_point() + labs(title = "Sale Price vs. Year Built (with outliers)",
       x = "Year Built",
       y = "Sale Price")

#without outliers
ggplot(ames, aes(x = YearBuilt, y = `Sale Price`)) +
  geom_point(alpha = 0.5) +
  scale_x_continuous(limits = c(1900, NA)) +
  coord_cartesian(ylim = c(0, 1000000)) +   # only show up to $1M
  labs(title = "Sale Price vs. Year Built (without outliers)",
       x = "Year Built",
       y = "Sale Price")


```


The overall pattern of the plot without the outliers show a more clear view of a slight positive correlation between year built and sale price. As the year goes up, the sale price seems to go up slightly as well over time, showing that there is a slight relationship between these two variables. The scatterplot that is zoomed out with outliers shows some extreme outliers, as there are a few houses built around ~2000 that are valued up to 20 million (similar to the sale prices I identified being outliers in 3), so when evaluating the overall trend I decided to exclude these values to better evaluate the correlation that exists.

Nayan's Work:

The variable I decided to use is the acres variable, seeing if my hypothesis is correct that the house with a higher number of acres, the higher the sale price. 

Below is the range and histogram for the lot area variable within the data set:

```{r}
library(classdata)
library(ggplot2)

# Remove rows where Acres < 0 and confirm filtering
ames_clean <- ames[!is.na(ames$Acres) & ames$Acres >= 0, ]

# Plot histogram only for valid data, zoomed in on 0â€“1 acre
ggplot(ames_clean, aes(x = Acres)) +
  geom_histogram(binwidth = 0.05, fill = "skyblue", color = "black") +
  coord_cartesian(xlim = c(0,3)) +
  labs(
    title = "Histogram of Acres per House",
    x = "Acres (per House)",
    y = "Count"
  )
```

The histogram here notes that most of the sales of houses included 0 to 0.5 acres of land, This histogram removes most if not all outliers to make the histogram more readable for the acre ranges in which the most sales prices is available for houses. Now, I will see how this affects the sales price by creating a scotterplot of sales price against the acres variable to see if there is any positive or negative correlation between the two variables. Something odd I noticed is that there is some still a count for sales of a house that has a negative number of acres, which is not possible. Even after removing these rows, the data still appears on the histogram.


```{r}
library(classdata)
library(ggplot2)

ggplot(ames, aes(x = Acres, y = `Sale Price`)) +
  geom_point(alpha = 0.5) +
  coord_cartesian(xlim = c(0, 1), ylim = c(0, 1000000)) +
  labs(title = "Sale Price vs. Acres of Land (without outliers)",
       x = "Acres of Land",
       y = "Sale Price")

ggplot(ames, aes(x = Acres, y = `Sale Price`)) +
  geom_point(alpha = 0.5) +
  coord_cartesian(ylim = c(0, 1000000)) +
  labs(title = "Sale Price vs. Acres of Land (with outliers)",
       x = "Acres of Land",
       y = "Sale Price")


```

It is clear to see that within the range of 0-0.5 acres of land, the sale price tends to have a much stronger positive correlation, as the houses with more acres of land tend to have a higher sales price, however, when looking at the outliers of sales with more acres of land, it is hard to draw a determination of what impact acres has on the sales price. This would seem to make sense, as there is likely less housing actually built pieces of land which have more acres of land to be sold. 